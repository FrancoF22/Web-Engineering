<!DOCTYPE html>
<html>
<head>
  <link  rel="stylesheet" href="style/admin-gruppo.css" type="text/css"/>
  <title>Aule web </title>
</head>
<body>

<div class="home-container">


    <div class="home-frame3">
      <img
              alt="UnivaqLogo116"
              src="images/UnivAQ_logoC.png"
              class="home-univaq-logo1"
      />
    </div>
      <span class="home-text">Crea e modifica gruppo</span>
    <div>
    <form action="gruppo" method="post">
        <span class="admin-gruppo-text04"><span>Nome gruppo</span></span>
        <input type="hidden" name="gruppo_id" value="${gruppo_modifica.id}">
        <div class="Admin-gruppo_nome"><input type="text" name="nome" value="${gruppo_modifica.nome?if_exists}"></div>
        <span class="admin-gruppo-text06"><span>Tipologia</span></span>
        <div class="admin-tipologia-gruppo"><input type="text" name="tipologia" value="${gruppo_modifica.tipogruppo?if_exists}"></div>
            <span class="admin-gruppo-text08"><span>Dipartimento</span></span>
            <div class="admin-dipartimento-gruppo">
                <select name="dipartimento" <#if tipo>required</#if>>
                    <option value="null" selected>Nessun Dipartimento</option>
                    <#list Dipartimenti as dip>
                    <option value="${dip.nome}" <#if gruppo_modifica.dipartimento?? && gruppo_modifica.dipartimento.nome == dip.nome>selected</#if>>${dip.nome}</option>
                    </#list>
                </select>
            </div>
      <span class="admin-gruppo-text10"><span>Descrizione</span></span>
      <div class="admin-gruppo-descrizione">
            <input type="text" name="descrizione" value="${gruppo_modifica.descrizione?if_exists}"></div>
      <div class="Bottone-salva-gruppo">
          <input type="submit" class="button" value="salva" name="salva">
      </div>
    </form>
        
    <#if tipo>
        <p class="table-header" >Aule presenti</p>
        <table>
            <thead>
                <tr>
                    <th>Nome</th>
                    <th>Luogo</th>
                    <th>Edificio</th>
                    <th>Piano</th>
                    <th>Capienza</th>
                    <th>Numero di prese elettriche</th>
                    <th>Numero di prese di rete</th>
                    <th>Responsabile</th>
                    <th>Attrezzature</th>
                    <th>Azione</th>
                </tr>
            </thead>
            <tbody>
                <#if (aule_gruppo?size>0)>
                <#list aule_gruppo as aula>
                <tr>
                    <td>${aula.nome}</td>
                    <td>${aula.luogo}</td>
                    <td>${aula.edificio}</td>
                    <td>${aula.piano}</td>
                    <td>${aula.capienza}</td>
                    <td>${aula.NPreseElettriche}</td>
                    <td>${aula.NPreseRete}</td>
                    <td><#if aula.responsabile??>${aula.responsabile.email}</#if></td>
                    <td>
                        <#list aula.attrezzature as att>
                        ${att.nome},
                        </#list>
                    </td>
                    <td><a href="gruppo?id_aula=${aula.id}&id=${gruppo_modifica.id}"><button class="Bottone-tabela">Elimina</button></a></td>
                </tr>

                </#list>
                </#if>
            </tbody>
        </table>
        
        <p class="table-header">Aggiungi Aule</p>
        <p>Filtra per Luogo: </p>
        <#if (luoghi?size>0)>
        <#list luoghi as luogo>
            <a href="gruppo?luogo=${luogo}&id=${gruppo_modifica.id}"><button name="cerca">${luogo}</button></a>
        </#list>
        </#if>
        <#if AuleFromLuogo?has_content>
        <table>
            <thead>
                <tr>
                    <th>Nome</th>
                    <th>Edificio</th>
                    <th>Piano</th>
                    <th>Capienza</th>
                    <th>Numero di prese elettriche</th>
                    <th>Numero di prese di rete</th>
                    <th>Responsabile</th>
                    <th>Attrezzature</th>
                    <th>Azione</th>
                </tr>
            </thead>
            <tbody>
                <#if (AuleFromLuogo?size>0)>
                <#list AuleFromLuogo as newaula>
                <tr>
                    <td>${newaula.nome}</td>
                    <td>${newaula.edificio}</td>
                    <td>${newaula.piano}</td>
                    <td>${newaula.capienza}</td>
                    <td>${newaula.NPreseElettriche}</td>
                    <td>${newaula.NPreseRete}</td>
                    <td><#if newaula.responsabile??>${newaula.responsabile.email}</#if></td>
                    <td>
                        <#list newaula.attrezzature as newatt>
                        ${newatt.nome},
                        </#list>
                    </td>
                    <td><a href="gruppo?newid_aula=${newaula.id}&id=${gruppo_modifica.id}"><button class="Bottone-tabela">Aggiungi</button></a></td>
                </tr>

                </#list>
                </#if>
            </tbody>
        </table>
        </#if>
    </#if>
    </div>
    </div>
<div>
    <a href="modifica-gruppo"><button class="button">Indietro</button></a>
</div>
  </div>
</div>
    </body>
</html>

